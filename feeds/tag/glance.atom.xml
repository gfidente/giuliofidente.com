<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Giulio Fidente (aka Giulivo Navigante)</title><link href="http://giuliofidente.com/" rel="alternate"></link><link href="http://giuliofidente.com/feeds/tag/glance.atom.xml" rel="self"></link><id>http://giuliofidente.com/</id><updated>2013-06-27T02:37:00+02:00</updated><entry><title>OpenStack Glance - Use Swift as backend</title><link href="http://giuliofidente.com/2013/06/openstack-glance-use-swift-as-backend.html" rel="alternate"></link><updated>2013-06-27T02:37:00+02:00</updated><author><name>Giulio Fidente</name></author><id>tag:giuliofidente.com,2013-06-27:2013/06/openstack-glance-use-swift-as-backend.html</id><summary type="html">&lt;p&gt;On &lt;a class="reference external" href="http://www.openstack.org"&gt;OpenStack&lt;/a&gt; again but this time it is about &lt;a class="reference external" href="https://wiki.openstack.org/wiki/Glance"&gt;Glance&lt;/a&gt;. &lt;a class="reference external" href="https://wiki.openstack.org/wiki/Glance"&gt;Glance&lt;/a&gt; is the component in charge of hosting the images (and image snapshots) to be used as source for the ephemeral storage. Images usually are just some random big files and it makes perfect sense to use &lt;a class="reference external" href="https://wiki.openstack.org/wiki/Swift"&gt;Swift&lt;/a&gt; for such a target (a File Object storage)!&lt;/p&gt;
&lt;p&gt;By default &lt;a class="reference external" href="https://wiki.openstack.org/wiki/Glance"&gt;Glance&lt;/a&gt; is configured to use the local filesystem as backend so this will mostly about which config options you've to change to make it save the images in &lt;a class="reference external" href="https://wiki.openstack.org/wiki/Swift"&gt;Swift&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As usual, some assumptions before we start:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;you're familiar with the general &lt;a class="reference external" href="http://www.openstack.org"&gt;OpenStack&lt;/a&gt; architecture&lt;/li&gt;
&lt;li&gt;you have already some &lt;a class="reference external" href="https://wiki.openstack.org/wiki/Glance"&gt;Glance&lt;/a&gt; image node configured and working as expected&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Only few changes have to be made in &lt;code&gt;glance-api.conf&lt;/code&gt;):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
default_store = swift
swift_store_auth_address = $KEYSTONE_SERVICE_PROTOCOL://$KEYSTONE_SERVICE_HOST:$KEYSTONE_SERVICE_PORT/v2.0/
swift_store_user = $SERVICE_TENANT_NAME:glance
swift_store_key = $SERVICE_PASSWORD
swift_store_create_container_on_put = True
&lt;/pre&gt;
&lt;p&gt;These are probably self-explanatory but have a few tips to spare! If you decide to go via https for the keystone service, make sure you can validate locally (on &lt;a class="reference external" href="https://wiki.openstack.org/wiki/Glance"&gt;Glance&lt;/a&gt;) the certificate. If unsure about the values for the $SERVICE_* variables, those should have been set already in the &lt;code&gt;keystone_authtoken&lt;/code&gt; section.&lt;/p&gt;
&lt;p&gt;Short and straight to the point!&lt;/p&gt;
</summary><category term="openstack"></category><category term="glance"></category><category term="fedoraplanet"></category></entry></feed>